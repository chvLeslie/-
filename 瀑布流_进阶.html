<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="" rel="stylesheet">
<style>
*{
    padding:0;
    margin:0;
    list-style:none;
}
    ul{
        width:200px;
        border:solid 1px #000;
        float:left;
        margin:10px;
    }
</style>
<script>
    function rnd(m,n){
        return parseInt(Math.random()*(n-m)+m);
    }
    function createLi(){
        var oLi=document.createElement('li');
        oLi.style.height=rnd(100,500)+'px';
        oLi.style.margin='10px';
        oLi.style.background='rgb('+rnd(0,256)+','+rnd(0,256)+','+rnd(0,256)+')';
        return oLi;
    }
    window.onload=function(){
        var aUl=document.getElementsByTagName('ul');
        var arr=[aUl[0],aUl[1],aUl[2]];
        createLi20();
        function createLi20(){
            for(var i=0;i<20;i++){
            var oLi=createLi();
            arr.sort(function(ul1,ul2){
                return ul1.offsetHeight-ul2.offsetHeight;
            })
            arr[0].appendChild(oLi);
            /*var min=aUl[0];
            if(aUl[0].offsetHeight<aUl[1].offsetHeight){
                if(aUl[0].offsetHeight<aUl[2].offsetHeight){
                    min=aUl[0];
                }else{
                    min=aUl[2];
                }
            }else{
                if(aUl[1].offsetHeight<aUl[2].offsetHeight){
                    min=aUl[1];
                }else{
                    min=aUl[2];
                }
            }
            min.appendChild(oLi);*/

        }

    }
       window.onscroll=function(){
        var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;
        var clientH=document.documentElement.clientHeight||document.body.clientHeight;
        var bottomH=scrollTop+clientH;
        if(bottomH>=(document.documentElement.scrollHeight-500)){
           createLi20();
        }
       }

    }
</script>
</head>
<body>
    <ul>
        <li style='width:180px;height:300px;background:red;margin:10px'></li>
        <li style='width:180px;height:100px;background:green;margin:10px'></li>

    </ul>
    <ul></ul>
    <ul></ul>
</body>
</html>